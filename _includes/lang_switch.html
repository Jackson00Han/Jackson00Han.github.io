{% assign translations = site.pages | where: "ref", page.ref %}

{% if translations.size > 1 %}
<div class="lang-switch">
  {% for t in translations %}
    {% if t.lang == page.lang %}
      <span class="lang-switch__current">
        {% if t.lang == "en" %}English{% elsif t.lang == "zh" %}中文{% else %}{{ t.lang | upcase }}{% endif %}
      </span>
    {% else %}
      <a href="{{ t.url | relative_url }}" class="lang-switch__link">
        {% if t.lang == "en" %}English{% elsif t.lang == "zh" %}中文{% else %}{{ t.lang | upcase }}{% endif %}
      </a>
    {% endif %}
  {% endfor %}
</div>
{% endif %}
